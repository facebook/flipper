"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1666],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>p,MDXProvider:()=>g,mdx:()=>h,useMDXComponents:()=>d,withMDXComponents:()=>u});var o=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(){return r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=o.createContext({}),u=function(e){return function(n){var t=d(n.components);return o.createElement(e,r({},n,{components:t}))}},d=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},g=function(e){var n=d(e.components);return o.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},c=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(t),g=i,c=u["".concat(l,".").concat(g)]||u[g]||m[g]||r;return t?o.createElement(c,a(a({ref:n},p),{},{components:t})):o.createElement(c,a({ref:n},p))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=c;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a.mdxType="string"==typeof e?e:i,l[1]=a;for(var p=2;p<r;p++)l[p]=t[p];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},2894:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>p,default:()=>c,frontMatter:()=>s,metadata:()=>u,toc:()=>g});var o=t(83117),i=t(80102),r=(t(67294),t(3905)),l=t(44996),a=["components"],s={id:"debugging",title:"Debugging"},p=void 0,u={unversionedId:"extending/debugging",id:"extending/debugging",title:"Debugging",description:"Built-in Developer Tools",source:"@site/../docs/extending/debugging.mdx",sourceDirName:"extending",slug:"/extending/debugging",permalink:"/docs/extending/debugging",draft:!1,editUrl:"https://github.com/facebook/flipper/blob/main/website/../docs/extending/debugging.mdx",tags:[],version:"current",frontMatter:{id:"debugging",title:"Debugging"},sidebar:"main",previous:{title:"Testing",permalink:"/docs/extending/testing"},next:{title:"Plugin Distribution",permalink:"/docs/extending/plugin-distribution"}},d={},g=[{value:"Built-in Developer Tools",id:"built-in-developer-tools",level:2},{value:"Google Chrome Developer Tools",id:"google-chrome-developer-tools",level:2},{value:"Visual Studio Code",id:"visual-studio-code",level:2},{value:"Plugin missing",id:"plugin-missing",level:2}],m={toc:g};function c(e){var n=e.components,t=(0,i.Z)(e,a);return(0,r.mdx)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h2",{id:"built-in-developer-tools"},"Built-in Developer Tools"),(0,r.mdx)("p",null,"Flipper is built on Electron, which supports a subset of the Chrome Extensions API. This means you can debug Flipper using Chrome's developer tools."),(0,r.mdx)("p",null,"Flipper automatically installs the React devtools extension allowing you to have better insight into what is going on in your plugin."),(0,r.mdx)("p",null,"You can open the dev tools from the menu with ",(0,r.mdx)("inlineCode",{parentName:"p"},"View")," > ",(0,r.mdx)("inlineCode",{parentName:"p"},"Toggle Developer Tools")," or pressing \u2325\u2318I on a Mac."),(0,r.mdx)("p",null,"In addition, to assist you with the JavaScript, the JS console displays uncaught exceptions thrown from the client plugin in response to Flipper method calls."),(0,r.mdx)("h2",{id:"google-chrome-developer-tools"},"Google Chrome Developer Tools"),(0,r.mdx)("p",null,"As an alternative to using built-in Developer Tools, you can also attach to the running Flipper instance from Google Chrome Developer Tools. Sometimes this is useful because the version of Dev Tools in Google Chrome is more recent than the embedded one, and it is possible to easily install additional extensions if required."),(0,r.mdx)("p",null,"To attach the running Flipper instance, open a new tab in Google Chrome, navigate to ",(0,r.mdx)("a",{parentName:"p",href:"http://localhost:9222"},"http://localhost:9222")," and choose 'Flipper' in the opened list, as shown in the following screenshot"),(0,r.mdx)("img",{alt:"Attach From Google Chrome",src:(0,l.default)("img/debugging-from-google-chrome.png")}),(0,r.mdx)("h2",{id:"visual-studio-code"},"Visual Studio Code"),(0,r.mdx)("p",null,"If you prefer to use the same editor for both coding and debugging, you can attach to the running Flipper instance for debugging right from Visual Studio Code.\nTake the following steps:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"First, you need to install the extension 'Debugger for Chrome'."),(0,r.mdx)("li",{parentName:"ul"},"To start debugging, open the folder ",(0,r.mdx)("inlineCode",{parentName:"li"},"desktop")," of the Flipper repository in VSCode"),(0,r.mdx)("li",{parentName:"ul"},"Execute ",(0,r.mdx)("inlineCode",{parentName:"li"},"yarn start")," in a terminal to launch Flipper in development mode"),(0,r.mdx)("li",{parentName:"ul"},"Select tab ",(0,r.mdx)("inlineCode",{parentName:"li"},"Debug and Run")," and run task ",(0,r.mdx)("inlineCode",{parentName:"li"},"Attach to Running Renderer"),". By default, this task is set as the first one, so you can just press ",(0,r.mdx)("inlineCode",{parentName:"li"},"F5")," to run it.")),(0,r.mdx)("img",{alt:"Attach From Visual Studio Code",src:(0,l.default)("img/debugging-from-vscode.png")}),(0,r.mdx)("h2",{id:"plugin-missing"},"Plugin missing"),(0,r.mdx)("p",null,"If a plugin you've created is not showing up, there might be two potential classes of problems, either there is a problem on the mobile side or on the desktop side (understanding where the problem is rooted helps in debugging it)."),(0,r.mdx)("p",null,"Click on 'Plugin now showing' in the sidebar and see if your plugin is now listed. If it is not listed, the desktop side of the plugin is not loaded. One of the main reasons for this is that the plugin could not be compiled, due to some errors. Try launching Flipper from the Terminal to see some additional logs: ",(0,r.mdx)("inlineCode",{parentName:"p"},"/Applications/Flipper.app/Contents/MacOS/Flipper"),"."),(0,r.mdx)("p",null,"A common error here is ",(0,r.mdx)("inlineCode",{parentName:"p"},"Error: fsevents unavailable (this watcher can only be used on Darwin)"),". This can be fixed by installing watchman (",(0,r.mdx)("inlineCode",{parentName:"p"},"brew install watchman"),")."),(0,r.mdx)("p",null,"If the plugin is listed in the desktop app, but still is not showing up in the sidebar, the mobile app is not announcing the plugin. In this case, make sure to instantiate your plugin and add it to your FlipperClient."))}c.isMDXComponent=!0}}]);